function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,a){return n&&_defineProperties(e.prototype,n),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{xfvH:function(e,n,a){"use strict";a.r(n);var t,i=a("DKVz"),r=a("ofXK"),o=a("tk/3"),m=a("tyNb"),s=a("TEn/"),c=a("mrSG"),u=a("MT78"),h=a("IzEk"),l=a("Yoe/"),p=a("fXoL"),g=a("R7Hv"),d=((t=function(){function e(n,a,t){_classCallCheck(this,e),this.dataService=n,this.http=a,this.loadingController=t,this.area="\u5168\u56fd",this.barHeight=500,this.areas=[{name:"\u5168\u56fd",enName:"china"},{name:"\u5317\u4eac\u5e02",enName:"beijing"},{name:"\u4e0a\u6d77\u5e02",enName:"shanghai"},{name:"\u5e7f\u4e1c\u7701",enName:"guangdong"},{name:"\u4e91\u5357\u7701",enName:"yunnan"},{name:"\u5409\u6797\u7701",enName:"jilin"},{name:"\u56db\u5ddd\u7701",enName:"sichuan"},{name:"\u5929\u6d25\u5e02",enName:"tianjin"},{name:"\u5b89\u5fbd\u7701",enName:"anhui"},{name:"\u5c71\u4e1c\u7701",enName:"shandong"},{name:"\u5c71\u897f\u7701",enName:"shanxi"},{name:"\u6c5f\u82cf\u7701",enName:"jiangsu"},{name:"\u6c5f\u897f\u7701",enName:"jiangxi"},{name:"\u6cb3\u5317\u7701",enName:"hebei"},{name:"\u6cb3\u5357\u7701",enName:"henan"},{name:"\u6d59\u6c5f\u7701",enName:"zhejiang"},{name:"\u6d77\u5357\u7701",enName:"hainan"},{name:"\u6e56\u5317\u7701",enName:"hubei"},{name:"\u6e56\u5357\u7701",enName:"hunan"},{name:"\u7518\u8083\u7701",enName:"gansu"},{name:"\u798f\u5efa\u7701",enName:"fujian"},{name:"\u8d35\u5dde\u7701",enName:"guizhou"},{name:"\u8fbd\u5b81\u7701",enName:"liaoning"},{name:"\u91cd\u5e86\u5e02",enName:"chongqing"},{name:"\u9655\u897f\u7701",enName:"shanxi1"},{name:"\u9752\u6d77\u7701",enName:"qinghai"},{name:"\u9ed1\u9f99\u6c5f\u7701",enName:"heilongjiang"},{name:"\u897f\u85cf\u81ea\u6cbb\u533a",enName:"xizang"},{name:"\u5185\u8499\u53e4\u81ea\u6cbb\u533a",enName:"neimenggu"},{name:"\u5b81\u590f\u56de\u65cf\u81ea\u6cbb\u533a",enName:"ningxia"},{name:"\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a",enName:"guangxi"},{name:"\u65b0\u7586\u7ef4\u543e\u5c14\u81ea\u6cbb\u533a",enName:"xinjiang"},{name:"\u9999\u6e2f",enName:"xianggang"},{name:"\u6fb3\u95e8",enName:"aomen"},{name:"\u53f0\u6e7e",enName:"taiwan"}],this.mapLoaded=!1,this.options={},this.barOptions={}}return _createClass(e,[{key:"ngOnInit",value:function(){this.changeArea()}},{key:"presentLoadingWithOptions",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({message:"\u62fc\u547d\u52a0\u8f7d\u4e2d...",translucent:!0});case 2:return n=e.sent,e.next=5,n.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"displayMap",value:function(e){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"china";arguments.length>2&&void 0!==arguments[2]&&arguments[2],this.http.get("assets/map/".concat(a,".json")).pipe(Object(h.a)(1)).subscribe((function(t){var i=Object(l.a)(e,t);n.mapLoaded=!0,n.loadingController.dismiss(),u.registerMap(a,t),n.options={title:{},zoom:1.2,tooltip:{trigger:"item",formatter:function(e){return"".concat(e.name,"<br/>\u786e\u8bca\uff1a").concat(e.value||0," \u4eba")}},toolbox:{show:!1,orient:"vertical",left:"right",top:"center",feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},visualMap:{show:!1,color:["#d94e5d","#eac736","#50a3ba"],pieces:[{min:1001,color:"#731919"},{min:500,max:1e3,color:"red"},{min:100,max:499,color:"#e26061"},{min:10,max:99,color:"#f08f7f"},{min:1,max:9,color:"#ffb86a"},{value:0,color:"#eee"}]},series:[{name:"\u5168\u56fd",type:"map",mapType:a,itemStyle:{normal:{label:{show:!0}},emphasis:{label:{show:!0}}},data:e,nameMap:i}]}}))}},{key:"onChangeArea",value:function(e){this.changeArea(e.detail.value)}},{key:"changeArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u5168\u56fd";return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var a,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.presentLoadingWithOptions();case 2:this.area=e,a=this.areas.find((function(n){return n.name===e})),this.dataService.area(this.area).pipe(Object(h.a)(1)).subscribe((function(e){if(t.data=e,"\u5168\u56fd"===e.provinceName){var n=t.data.cities.map((function(e){return{name:e.provinceShortName,value:e.confirmedCount}}));t.displayMap(n)}else{var i=e.cities.map((function(e){return{name:e.cityName,value:e.confirmedCount}}));t.displayMap(i,"province/".concat(a.enName),a.name)}}));case 5:case"end":return n.stop()}}),n,this)})))}}]),e}()).\u0275fac=function(e){return new(e||t)(p.Mb(g.a),p.Mb(o.a),p.Mb(s.r))},t.\u0275cmp=p.Gb({type:t,selectors:[["app-om"]],decls:2,vars:2,consts:[["echarts","",1,"demo-chart",3,"options","loading"]],template:function(e,n){1&e&&(p.Sb(0,"ion-content"),p.Nb(1,"div",0),p.Rb()),2&e&&(p.Cb(1),p.ic("options",n.options)("loading",!n.mapLoaded))},directives:[s.e,i.b],styles:[".demo-chart[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t);a.d(n,"OmPageModule",(function(){return v}));var f,v=((f=function e(){_classCallCheck(this,e)}).\u0275mod=p.Kb({type:f}),f.\u0275inj=p.Jb({factory:function(e){return new(e||f)},imports:[[r.c,o.b,s.p,i.a,m.h.forChild([{path:"",component:d}])]]}),f)}}]);