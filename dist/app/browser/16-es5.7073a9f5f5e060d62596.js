function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var a=0;a<e.length;a++){var t=e[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,e,a){return e&&_defineProperties(n.prototype,e),a&&_defineProperties(n,a),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"ct+p":function(n,e,a){"use strict";a.r(e);var t=a("DKVz"),i=a("ofXK"),o=a("tk/3"),c=a("tyNb"),r=a("TEn/"),s=a("mrSG"),p=a("MT78"),l=a("Yoe/"),g=a("IzEk"),d=a("fXoL"),b=a("R7Hv");function u(n,e){if(1&n&&(d.Sb(0,"ion-select-option",23),d.rc(1),d.Rb()),2&n){var a=e.$implicit;d.ic("value",a.name),d.Cb(1),d.sc(a.name)}}function m(n,e){1&n&&(d.Sb(0,"h5",7),d.rc(1,"\u5168\u56fd\u75ab\u60c5\u6570\u636e(\u542b\u6e2f\u6fb3\u53f0\uff09"),d.Rb())}function h(n,e){if(1&n&&(d.Sb(0,"h5",7),d.rc(1),d.Rb()),2&n){var a=d.cc();d.Cb(1),d.sc(a.area)}}function f(n,e){if(1&n&&(d.Sb(0,"p",24),d.rc(1,"\u8f83\u6628\u65e5+"),d.Sb(2,"span"),d.rc(3),d.Rb(),d.Rb()),2&n){var a=d.cc();d.Cb(3),d.sc(null==a.data?null:a.data.confirmedIncr)}}function C(n,e){if(1&n&&(d.Sb(0,"p",24),d.rc(1,"\u8f83\u6628\u65e5+"),d.Sb(2,"span"),d.rc(3),d.Rb(),d.Rb()),2&n){var a=d.cc();d.Cb(3),d.sc(null==a.data?null:a.data.suspectedIncr)}}function O(n,e){if(1&n&&(d.Sb(0,"p",24),d.rc(1,"\u8f83\u6628\u65e5+"),d.Sb(2,"span"),d.rc(3),d.Rb(),d.Rb()),2&n){var a=d.cc();d.Cb(3),d.sc(null==a.data?null:a.data.deadIncr)}}function v(n,e){if(1&n&&(d.Sb(0,"p",24),d.rc(1,"\u8f83\u6628\u65e5+"),d.Sb(2,"span"),d.rc(3),d.Rb(),d.Rb()),2&n){var a=d.cc();d.Cb(3),d.sc(null==a.data?null:a.data.curedIncr)}}function M(n,e){1&n&&d.Nb(0,"ion-img",27),2&n&&d.ic("src",e.$implicit)}function P(n,e){if(1&n&&(d.Sb(0,"ion-col",25),d.Sb(1,"p",17),d.Nb(2,"i"),d.rc(3,"\u75ab\u60c5\u8d8b\u52bf\u56fe"),d.Sb(4,"span",18),d.rc(5,"\u6570\u636e\u6765\u6e90\uff1a\u4e92\u8054\u7f51"),d.Rb(),d.Rb(),d.qc(6,M,1,1,"ion-img",26),d.Rb()),2&n){var a=d.cc();d.Cb(6),d.ic("ngForOf",a.data.dailyPics)}}var _,x=((_=function(){function n(e,a,t){_classCallCheck(this,n),this.dataService=e,this.http=a,this.loadingController=t,this.area="\u5168\u56fd",this.barHeight=500,this.areas=[{name:"\u5168\u56fd",enName:"china"},{name:"\u5317\u4eac\u5e02",enName:"beijing"},{name:"\u4e0a\u6d77\u5e02",enName:"shanghai"},{name:"\u5e7f\u4e1c\u7701",enName:"guangdong"},{name:"\u4e91\u5357\u7701",enName:"yunnan"},{name:"\u5409\u6797\u7701",enName:"jilin"},{name:"\u56db\u5ddd\u7701",enName:"sichuan"},{name:"\u5929\u6d25\u5e02",enName:"tianjin"},{name:"\u5b89\u5fbd\u7701",enName:"anhui"},{name:"\u5c71\u4e1c\u7701",enName:"shandong"},{name:"\u5c71\u897f\u7701",enName:"shanxi"},{name:"\u6c5f\u82cf\u7701",enName:"jiangsu"},{name:"\u6c5f\u897f\u7701",enName:"jiangxi"},{name:"\u6cb3\u5317\u7701",enName:"hebei"},{name:"\u6cb3\u5357\u7701",enName:"henan"},{name:"\u6d59\u6c5f\u7701",enName:"zhejiang"},{name:"\u6d77\u5357\u7701",enName:"hainan"},{name:"\u6e56\u5317\u7701",enName:"hubei"},{name:"\u6e56\u5357\u7701",enName:"hunan"},{name:"\u7518\u8083\u7701",enName:"gansu"},{name:"\u798f\u5efa\u7701",enName:"fujian"},{name:"\u8d35\u5dde\u7701",enName:"guizhou"},{name:"\u8fbd\u5b81\u7701",enName:"liaoning"},{name:"\u91cd\u5e86\u5e02",enName:"chongqing"},{name:"\u9655\u897f\u7701",enName:"shanxi1"},{name:"\u9752\u6d77\u7701",enName:"qinghai"},{name:"\u9ed1\u9f99\u6c5f\u7701",enName:"heilongjiang"},{name:"\u897f\u85cf\u81ea\u6cbb\u533a",enName:"xizang"},{name:"\u5185\u8499\u53e4\u81ea\u6cbb\u533a",enName:"neimenggu"},{name:"\u5b81\u590f\u56de\u65cf\u81ea\u6cbb\u533a",enName:"ningxia"},{name:"\u5e7f\u897f\u58ee\u65cf\u81ea\u6cbb\u533a",enName:"guangxi"},{name:"\u65b0\u7586\u7ef4\u543e\u5c14\u81ea\u6cbb\u533a",enName:"xinjiang"},{name:"\u9999\u6e2f",enName:"xianggang"},{name:"\u6fb3\u95e8",enName:"aomen"},{name:"\u53f0\u6e7e",enName:"taiwan"}],this.mapLoaded=!1,this.options={},this.barOptions={}}return _createClass(n,[{key:"ngOnInit",value:function(){this.changeArea(),this.getChinaBarData()}},{key:"presentLoadingWithOptions",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadingController.create({message:"\u62fc\u547d\u52a0\u8f7d\u4e2d...",translucent:!0});case 2:return e=n.sent,n.next=5,e.present();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"displayMap",value:function(n){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"china",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u5168\u56fd";this.http.get("assets/map/".concat(a,".json")).pipe(Object(g.a)(1)).subscribe((function(i){console.log("geoJson",i);var o=Object(l.a)(n,i);e.mapLoaded=!0,e.loadingController.dismiss(),p.registerMap(a,i),e.options={title:{text:t},zoom:1.2,tooltip:{trigger:"item",formatter:function(n){return"".concat(n.name,"<br/>\u786e\u8bca\uff1a").concat(n.value||0," \u4eba")}},toolbox:{show:!1,orient:"vertical",left:"right",top:"center",feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}}},visualMap:{show:!0,color:["#d94e5d","#eac736","#50a3ba"],pieces:[{min:1001,color:"#731919"},{min:500,max:1e3,color:"red"},{min:100,max:499,color:"#e26061"},{min:10,max:99,color:"#f08f7f"},{min:1,max:9,color:"#ffb86a"},{value:0,color:"#eee"}]},series:[{name:"\u5168\u56fd",type:"map",mapType:a,itemStyle:{normal:{label:{show:!0}},emphasis:{label:{show:!0}}},data:n,nameMap:o}]}}))}},{key:"getChinaBarData",value:function(){var n=this;this.http.get("https://yiqing.ahusmart.com/chinaData").pipe(Object(g.a)(1)).subscribe((function(e){n.barOptions=JSON.parse(e.bar),n.barHeight=35*n.barOptions.yAxis[0].data.length}))}},{key:"getProvinceBarData",value:function(n){var e=this;this.http.get("https://yiqing.ahusmart.com/data/".concat(n)).pipe(Object(g.a)(1)).subscribe((function(n){e.barOptions=JSON.parse(n.bar),e.barHeight=35*e.barOptions.yAxis[0].data.length}))}},{key:"onChangeArea",value:function(n){this.changeArea(n.detail.value)}},{key:"changeArea",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u5168\u56fd";return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var a,t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.presentLoadingWithOptions();case 2:this.area=n,a=this.areas.find((function(e){return e.name===n})),this.dataService.area(this.area).pipe(Object(g.a)(1)).subscribe((function(n){if(t.data=n,"\u5168\u56fd"===n.provinceName){var e=t.data.cities.map((function(n){return{name:n.provinceShortName,value:n.confirmedCount}}));t.displayMap(e),t.getChinaBarData()}else{var i=n.cities.map((function(n){return{name:n.cityName,value:n.confirmedCount}}));t.displayMap(i,"province/".concat(a.enName),a.name),t.getProvinceBarData(a.name)}}));case 5:case"end":return e.stop()}}),e,this)})))}}]),n}()).\u0275fac=function(n){return new(n||_)(d.Mb(b.a),d.Mb(o.a),d.Mb(r.r))},_.\u0275cmp=d.Gb({type:_,selectors:[["app-home"]],decls:56,vars:22,consts:[["fixed","",1,"ion-no-padding"],["size","12",1,"ion-no-padding"],[1,"top-part"],[1,"top-header"],["value","\u5168\u56fd","placeholder","\u9009\u62e9","interface","popover",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["class","ion-padding-start",4,"ngIf"],[1,"ion-padding-start"],[1,"cases"],[1,"case","confirmed"],[1,"cate-title"],[1,"total"],["class","increase",4,"ngIf"],[1,"case","suspected"],[1,"case","dead"],[1,"case","cure"],[1,"epidemic-situation"],[1,"mapTap"],[1,"mapTapTip"],["echarts","",1,"demo-chart",3,"options","loading"],["echarts","",3,"options","loading"],["fixed",""],["size","12",4,"ngIf"],[3,"value"],[1,"increase"],["size","12"],["class","ion-padding-bottom",3,"src",4,"ngFor","ngForOf"],[1,"ion-padding-bottom",3,"src"]],template:function(n,e){1&n&&(d.Sb(0,"ion-content"),d.Sb(1,"ion-grid",0),d.Sb(2,"ion-row"),d.Sb(3,"ion-col",1),d.Sb(4,"div",2),d.Sb(5,"div",3),d.Sb(6,"ion-select",4),d.ac("ionChange",(function(n){return e.onChangeArea(n)})),d.qc(7,u,2,2,"ion-select-option",5),d.Rb(),d.Rb(),d.Sb(8,"ion-card"),d.qc(9,m,2,0,"h5",6),d.qc(10,h,2,1,"h5",6),d.Sb(11,"span",7),d.rc(12),d.dc(13,"date"),d.Rb(),d.Sb(14,"div",8),d.Sb(15,"div",9),d.Sb(16,"p",10),d.rc(17,"\u786e\u8bca"),d.Rb(),d.Sb(18,"p",11),d.rc(19),d.Rb(),d.qc(20,f,4,1,"p",12),d.Rb(),d.Sb(21,"div",13),d.Sb(22,"p",10),d.rc(23,"\u7591\u4f3c"),d.Rb(),d.Sb(24,"p",11),d.rc(25),d.Rb(),d.qc(26,C,4,1,"p",12),d.Rb(),d.Sb(27,"div",14),d.Sb(28,"p",10),d.rc(29,"\u6b7b\u4ea1"),d.Rb(),d.Sb(30,"p",11),d.rc(31),d.Rb(),d.qc(32,O,4,1,"p",12),d.Rb(),d.Sb(33,"div",15),d.Sb(34,"p",10),d.rc(35,"\u6cbb\u6108"),d.Rb(),d.Sb(36,"p",11),d.rc(37),d.Rb(),d.qc(38,v,4,1,"p",12),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(39,"div",16),d.Sb(40,"p",17),d.Nb(41,"i"),d.rc(42,"\u75ab\u60c5\u5730\u56fe"),d.Sb(43,"span",18),d.rc(44,"\u6570\u636e\u6765\u6e90\uff1a\u4e92\u8054\u7f51"),d.Rb(),d.Rb(),d.Nb(45,"div",19),d.Rb(),d.Sb(46,"div",16),d.Sb(47,"p",17),d.Nb(48,"i"),d.rc(49,"\u75ab\u60c5\u7edf\u8ba1\u6570\u636e"),d.Sb(50,"span",18),d.rc(51,"\u6570\u636e\u6765\u6e90\uff1a\u4e92\u8054\u7f51"),d.Rb(),d.Rb(),d.Nb(52,"div",20),d.Rb(),d.Sb(53,"ion-grid",21),d.Sb(54,"ion-row"),d.qc(55,P,7,1,"ion-col",22),d.Rb(),d.Rb(),d.Rb()),2&n&&(d.Cb(7),d.ic("ngForOf",e.areas),d.Cb(2),d.ic("ngIf","\u5168\u56fd"===e.area),d.Cb(1),d.ic("ngIf","\u5168\u56fd"!==e.area),d.Cb(2),d.tc("\u66f4\u65b0\u81f3 ",d.fc(13,19,null==e.data?null:e.data.updateTime,"yyyy.MM.dd HH:mm:ss"),""),d.Cb(7),d.sc(null==e.data?null:e.data.confirmedCount),d.Cb(1),d.ic("ngIf",null==e.data?null:e.data.confirmedIncr),d.Cb(5),d.sc(null==e.data?null:e.data.suspectedCount),d.Cb(1),d.ic("ngIf",null==e.data?null:e.data.suspectedIncr),d.Cb(5),d.sc(null==e.data?null:e.data.deadCount),d.Cb(1),d.ic("ngIf",null==e.data?null:e.data.deadIncr),d.Cb(5),d.sc(null==e.data?null:e.data.curedCount),d.Cb(1),d.ic("ngIf",null==e.data?null:e.data.curedIncr),d.Cb(7),d.ic("options",e.options)("loading",!e.mapLoaded),d.Cb(7),d.pc("height",e.barHeight,"px"),d.ic("options",e.barOptions)("loading",!e.mapLoaded),d.Cb(3),d.ic("ngIf",null==e.data?null:e.data.dailyPics))},directives:[r.e,r.f,r.k,r.d,r.n,r.t,i.j,r.c,i.k,t.b,r.o,r.h],pipes:[i.e],styles:[".top-part[_ngcontent-%COMP%]{position:relative;background:url(/assets/images/header-bg.jpg) no-repeat;background-size:100% auto}.top-header[_ngcontent-%COMP%]{padding-top:140px;color:#fff}.top-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding:32px 0 16px 32px;display:inline-block}.top-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-left:32px;margin-top:0}.active-link[_ngcontent-%COMP%]{--background:#3880ff}ion-select[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:120px}ion-card[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.75);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}ion-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#000}ion-card[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#999;padding-left:10px}.cases[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start}.cases[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-weight:700}.cases[_ngcontent-%COMP%]   .confirmed[_ngcontent-%COMP%]   .increase[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .cases[_ngcontent-%COMP%]   .confirmed[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#e10000}.cases[_ngcontent-%COMP%]   .suspected[_ngcontent-%COMP%]   .increase[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .cases[_ngcontent-%COMP%]   .suspected[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#ffa356}.cases[_ngcontent-%COMP%]   .dead[_ngcontent-%COMP%]   .increase[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .cases[_ngcontent-%COMP%]   .dead[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#222}.cases[_ngcontent-%COMP%]   .cure[_ngcontent-%COMP%]   .increase[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .cases[_ngcontent-%COMP%]   .cure[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#34aa70}.case[_ngcontent-%COMP%]{text-align:center;flex:1}.case[_ngcontent-%COMP%]   .cate-title[_ngcontent-%COMP%]{font-size:12px;color:#000;font-weight:700}.case[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-size:20px;margin:10px 0}.case[_ngcontent-%COMP%]   .increase[_ngcontent-%COMP%]{font-size:12px}.notes[_ngcontent-%COMP%]{padding:0 16px;color:#333}.mapTap[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;height:56px;margin-top:.12rem;padding:0 20px;font-weight:500;font-size:16px;line-height:56px;background:#fff;border-bottom:.005rem solid #ebebeb}.mapTap[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;width:8px;height:20px;margin-right:10px;vertical-align:middle;background:#4169e2}.mapTap[_ngcontent-%COMP%]   .mapTapTip[_ngcontent-%COMP%]{flex:1 1;color:#999;font-weight:400;font-size:12px;text-align:right}.epidemic-situation[_ngcontent-%COMP%]{max-width:1140px;margin:0 auto}.demo-chart[_ngcontent-%COMP%]{min-height:500px}ion-select[_ngcontent-%COMP%]{font-weight:700;background:rgba(0,0,0,.47);border-radius:10px;text-align:center;padding-right:10px}"]}),_);a.d(e,"HomePageModule",(function(){return R}));var S,R=((S=function n(){_classCallCheck(this,n)}).\u0275mod=d.Kb({type:S}),S.\u0275inj=d.Jb({factory:function(n){return new(n||S)},imports:[[i.c,o.b,r.p,t.a,c.h.forChild([{path:"",component:x}])]]}),S)}}]);